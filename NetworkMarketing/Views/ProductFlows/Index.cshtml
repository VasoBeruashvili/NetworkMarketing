<script src="~/Scripts/app/services/product-flows-service.js"></script>
<script src="~/Scripts/app/services/distributors-service.js"></script>
<script src="~/Scripts/app/services/products-service.js"></script>
<script src="~/Scripts/app/controllers/product-flow-modal-controller.js"></script>
<script src="~/Scripts/app/controllers/product-flows-controller.js"></script>

<div class="container" ng-controller="product-flows-controller">
    <div class="form-inline table-toolbar">
        <a class="btn btn-sm btn-primary" ng-click="openModal()"><i class="fa fa-plus"></i> დამატება</a>
        <input class="form-control input-sm pull-right" placeholder="ძებნა..." ng-model="filterProductFlows" />
    </div>

    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th>თარიღი</th>
                <th>დისტრიბუტორი</th>
                <th>პროდუქტი</th>
                <th>ერთეულის ფასი</th>
                <th>რაოდენობა</th>
                <th>ღირებულება</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="pf in productFlows | filter: filterProductFlows">
                <td>{{pf.operationDate}}</td>
                <td>{{pf.distributorFirstName}} {{pf.distributorLastName}}</td>
                <td>{{pf.productCode}} - {{pf.productName}}</td>
                <td>{{pf.productUnitPrice | number: 2}}</td>
                <td>{{pf.quantity}}</td>
                <td>{{pf.amount | number: 2}}</td>
                <td>
                    <a class="btn btn-xs btn-warning" title="რედაქტირება" ng-click="openModal($index)"><i class="fa fa-pencil"></i></a>
                    <a class="btn btn-xs btn-danger" title="წაშლა" ng-click="deleteProductFlow(pf.id)"><i class="fa fa-trash"></i></a>
                </td>
            </tr>
        </tbody>
    </table>
</div>